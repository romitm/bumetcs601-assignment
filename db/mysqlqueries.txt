create database bumetcs;

use bumetcs;

create table newsletter_subscription (
	id INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
	first_name VARCHAR(30) NOT NULL, 
	last_name VARCHAR(30) NOT NULL, 
	email VARCHAR(70) NOT NULL, 
	status CHAR(1) NOT NULL, 
	birth_day VARCHAR(2), 
	birth_month VARCHAR(10), 
	sys_ts TIMESTAMP DEFAULT CURRENT_TIMESTAMP);

describe newsletter_subscription;

insert into newsletter_subscription (
	first_name, last_name, email, status, birth_day, birth_month) 
values (
	'John', 'Smith', 'jsmith@hotmail.com', 'Y', '24', 'March');

select * from newsletter_subscription;

alter table newsletter_subscription drop id;

alter table newsletter_subscription AUTO_INCREMENT = 1;

alter table newsletter_subscription add id int unsigned not null auto_increment primary key first;

update newsletter_subscription set status = 'N' where id = 1;

create table site_users (
	id INT UNSIGNED NOT NULL PRIMARY KEY AUTO_INCREMENT,
	userid VARCHAR(20) NOT NULL UNIQUE,
	passwd VARCHAR(100) NOT NULL,
	usr_role VARCHAR(10) NOT NULL,
	usr_group VARCHAR(10) NOT NULL,
	sys_ts TIMESTAMP DEFAULT CURRENT_TIMESTAMP);

alter table site_users drop id;

alter table site_users AUTO_INCREMENT = 1;

alter table site_users add id int unsigned not null auto_increment primary key first;

insert into site_users (userid, passwd, usr_role, usr_group) values (
	'siteadmin', 'siteadminpassword', 'ADMIN', 'ADMIN');

insert into site_users (userid, passwd, usr_role, usr_group) values (
	'userromit', 'userpassword', 'USER', 'USER');